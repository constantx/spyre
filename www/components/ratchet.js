/**
 * ==================================
 * Ratchet v1.0.0
 * Licensed under The MIT License
 * http://opensource.org/licenses/MIT
 * ==================================
 *//* ----------------------------------
 * POPOVER v1.0.0
 * Licensed under The MIT License
 * http://opensource.org/licenses/MIT
 * ---------------------------------- */!function(){var e,t=function(e){var t,n=document.querySelectorAll("a");for(;e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e)return e},n=function(){document.body.removeChild(r);e.style.display="none";e.removeEventListener("webkitTransitionEnd",n)},r=function(){var t=document.createElement("div");t.classList.add("backdrop");t.addEventListener("touchend",function(){e.addEventListener("webkitTransitionEnd",n);e.classList.remove("visible")});return t}(),i=function(n){var r=t(n.target);if(!r||!r.hash)return;e=document.querySelector(r.hash);if(!e||!e.classList.contains("popover"))return;return e};window.addEventListener("touchend",function(e){var t=i(e);if(!t)return;t.style.display="block";t.offsetHeight;t.classList.add("visible");t.parentNode.appendChild(r)});window.addEventListener("click",function(e){i(e)&&e.preventDefault()})}();!function(){var e=function(){},t,n=20,r=sessionStorage,i={},s={"slide-in":"slide-out","slide-out":"slide-in",fade:"fade"},o={bartab:".bar-tab",bartitle:".bar-title",barfooter:".bar-footer",barheadersecondary:".bar-header-secondary"},u=function(e,t){d.id=e.id;t&&(e=l(e.id));r[e.id]=JSON.stringify(e);window.history.replaceState(e.id,e.title,e.url);i[e.id]=document.body.cloneNode(!0)},a=function(){var e=d.id,t=JSON.parse(r.cacheForwardStack||"[]"),i=JSON.parse(r.cacheBackStack||"[]");i.push(e);while(t.length)delete r[t.shift()];while(i.length>n)delete r[i.shift()];window.history.pushState(null,"",r[d.id].url);r.cacheForwardStack=JSON.stringify(t);r.cacheBackStack=JSON.stringify(i)},f=function(e,t){var n=t=="forward",i=JSON.parse(r.cacheForwardStack||"[]"),s=JSON.parse(r.cacheBackStack||"[]"),o=n?s:i,u=n?i:s;d.id&&o.push(d.id);u.pop();r.cacheForwardStack=JSON.stringify(i);r.cacheBackStack=JSON.stringify(s)},l=function(e){return JSON.parse(r[e]||null)||{}},c=function(e){var n=b(e.target);if(!n||e.which>1||e.metaKey||e.ctrlKey||t||location.protocol!==n.protocol||location.host!==n.host||!n.hash&&/#/.test(n.href)||n.hash&&n.href.replace(n.hash,"")===location.href.replace(location.hash,"")||n.getAttribute("data-ignore")=="push")return;return n},h=function(e){var t=c(e);if(!t)return;e.preventDefault();d({url:t.href,hash:t.hash,timeout:t.getAttribute("data-timeout"),transition:t.getAttribute("data-transition")})},p=function(e){var t,n,u,a,c,h,p,v,m=e.state;if(!m||!r[m])return;c=d.id<m?"forward":"back";f(m,c);u=l(m);a=i[m];u.title&&(document.title=u.title);if(c=="back"){p=JSON.parse(c=="back"?r.cacheForwardStack:r.cacheBackStack);v=l(p[p.length-1])}else v=u;if(c=="back"&&!v.id)return d.id=m;h=c=="back"?s[v.transition]:v.transition;if(!a)return d({id:u.id,url:u.url,title:u.title,timeout:u.timeout,transition:h,ignorePush:!0});if(v.transition){u=S(u,".content",a.cloneNode(!0));for(t in o){n=document.querySelector(o[t]);u[t]?g(u[t],n):n&&n.parentNode.removeChild(n)}}g((u.contents||a).cloneNode(!0),document.querySelector(".content"),h);d.id=m;document.body.offsetHeight},d=function(t){var n,r={},i=d.xhr;t.container=t.container||t.transition?document.querySelector(".content"):document.body;for(n in o)t[n]=t[n]||document.querySelector(o[n]);if(i&&i.readyState<4){i.onreadystatechange=e;i.abort()}i=new XMLHttpRequest;i.open("GET",t.url,!0);i.setRequestHeader("X-PUSH","true");i.onreadystatechange=function(){t._timeout&&clearTimeout(t._timeout);i.readyState==4&&(i.status==200||i.status==0&&t.url.indexOf("file:///")!=-1?v(i,t):m(t.url))};d.id||u({id:+(new Date),url:window.location.href,title:document.title,timeout:t.timeout,transition:null});t.timeout&&(t._timeout=setTimeout(function(){i.abort("timeout")},t.timeout));i.send();i.readyState&&!t.ignorePush&&a()},v=function(e,t){var n,r,i=x(e,t);if(!i.contents)return w(t.url);i.title&&(document.title=i.title);if(t.transition)for(n in o){r=document.querySelector(o[n]);i[n]?g(i[n],r):r&&r.parentNode.removeChild(r)}g(i.contents,t.container,t.transition,function(){u({id:t.id||+(new Date),url:i.url,title:i.title,timeout:t.timeout,transition:t.transition},t.id);y()});!t.ignorePush&&window._gaq&&_gaq.push(["_trackPageview"]);if(!t.hash)return},m=function(e){throw new Error("Could not get: "+e)},g=function(e,t,n,r){var i,s,o;if(!n)t?t.innerHTML=e.innerHTML:e.classList.contains("content")?document.body.appendChild(e):document.body.insertBefore(e,document.querySelector(".content"));else{i=/in$/.test(n);if(n=="fade"){t.classList.add("in");t.classList.add("fade");e.classList.add("fade")}if(/slide/.test(n)){e.classList.add(i?"right":"left");e.classList.add("slide");t.classList.add("slide")}t.parentNode.insertBefore(e,t)}n||r&&r();if(n=="fade"){t.offsetWidth;t.classList.remove("in");t.addEventListener("webkitTransitionEnd",u);function u(){t.removeEventListener("webkitTransitionEnd",u);e.classList.add("in");e.addEventListener("webkitTransitionEnd",a)}function a(){e.removeEventListener("webkitTransitionEnd",a);t.parentNode.removeChild(t);e.classList.remove("fade");e.classList.remove("in");r&&r()}}if(/slide/.test(n)){t.offsetWidth;o=i?"right":"left";s=i?"left":"right";t.classList.add(s);e.classList.remove(o);e.addEventListener("webkitTransitionEnd",f);function f(){e.removeEventListener("webkitTransitionEnd",f);e.classList.remove("slide");e.classList.remove(o);t.parentNode.removeChild(t);r&&r()}}},y=function(){var e=new CustomEvent("push",{detail:{state:l(d.id)},bubbles:!0,cancelable:!0});window.dispatchEvent(e)},b=function(e){var t,n=document.querySelectorAll("a");for(;e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e)return e},w=function(e){window.history.replaceState(null,"","#");window.location.replace(e)},E=function(e){var t=document.createElement("a");t.href=e;return t},S=function(e,t,n){var r,i={};for(r in e)i[r]=e[r];Object.keys(o).forEach(function(e){var t=n.querySelector(o[e]);t&&t.parentNode.removeChild(t);i[e]=t});i.contents=n.querySelector(t);return i},x=function(e,t){var n,r,i={},s=e.responseText;i.url=t.url;if(!s)return i;if(/<html/i.test(s)){n=document.createElement("div");r=document.createElement("div");n.innerHTML=s.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0];r.innerHTML=s.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]}else{n=r=document.createElement("div");n.innerHTML=s}i.title=n.querySelector("title");i.title=i.title&&i.title.innerText.trim();t.transition?i=S(i,".content",r):i.contents=r;return i};window.addEventListener("touchstart",function(){t=!1});window.addEventListener("touchmove",function(){t=!0});window.addEventListener("touchend",h);window.addEventListener("click",function(e){c(e)&&e.preventDefault()});window.addEventListener("popstate",p)}();!function(){var e=function(e){var t,n=document.querySelectorAll(".segmented-controller li a");for(;e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e)return e};window.addEventListener("touchend",function(t){var n,r,i,s,o="active",u="."+o,a=e(t.target);if(!a)return;s=a.parentNode;n=s.parentNode.querySelector(u);n&&n.classList.remove(o);s.classList.add(o);if(!a.hash)return;i=document.querySelector(a.hash);if(!i)return;r=i.parentNode.querySelector(u);r&&r.classList.remove(o);i.classList.add(o)});window.addEventListener("click",function(t){e(t.target)&&t.preventDefault()})}();!function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p=function(e){var t,n=document.querySelectorAll(".slider ul");for(;e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e)return e},d=function(){var e=n.style.webkitTransform.match(/translate3d\(([^,]*)/);return parseInt(e?e[1]:0)},v=function(e){var t=e?r<0?"ceil":"floor":"round";l=Math[t](d()/(h/n.children.length));l+=e;l=Math.min(l,0);l=Math.max(-(n.children.length-1),l)},m=function(r){n=p(r.target);if(!n)return;var i=n.querySelector("li");h=i.offsetWidth*n.children.length;c=undefined;f=n.offsetWidth;a=1;o=-(n.children.length-1);u=+(new Date);e=r.touches[0].pageX;t=r.touches[0].pageY;v(0);n.style["-webkit-transition-duration"]=0},g=function(u){if(u.touches.length>1||!n)return;r=u.touches[0].pageX-e;i=u.touches[0].pageY-t;e=u.touches[0].pageX;t=u.touches[0].pageY;typeof c=="undefined"&&(c=Math.abs(i)>Math.abs(r));if(c)return;s=r/a+d();u.preventDefault();a=l==0&&r>0?e/f+1.25:l==o&&r<0?Math.abs(e)/f+1.25:1;n.style.webkitTransform="translate3d("+s+"px,0,0)"},y=function(e){if(!n||c)return;v(+(new Date)-u<1e3&&Math.abs(r)>15?r<0?-1:1:0);s=l*f;n.style["-webkit-transition-duration"]=".2s";n.style.webkitTransform="translate3d("+s+"px,0,0)";e=new CustomEvent("slide",{detail:{slideNumber:Math.abs(l)},bubbles:!0,cancelable:!0});n.parentNode.dispatchEvent(e)};window.addEventListener("touchstart",m);window.addEventListener("touchmove",g);window.addEventListener("touchend",y)}();!function(){var e={},t=!1,n=!1,r=!1,i=function(e){var t,n=document.querySelectorAll(".toggle");for(;e&&e!==document;e=e.parentNode)for(t=n.length;t--;)if(n[t]===e)return e};window.addEventListener("touchstart",function(n){n=n.originalEvent||n;r=i(n.target);if(!r)return;var s=r.querySelector(".toggle-handle"),o=r.offsetWidth,u=s.offsetWidth,a=r.classList.contains("active")?o-u:0;e={pageX:n.touches[0].pageX-a,pageY:n.touches[0].pageY};t=!1;r.style["-webkit-transition-duration"]=0});window.addEventListener("touchmove",function(i){i=i.originalEvent||i;if(i.touches.length>1)return;if(!r)return;var s=r.querySelector(".toggle-handle"),o=i.touches[0],u=r.offsetWidth,a=s.offsetWidth,f=u-a;t=!0;n=o.pageX-e.pageX;if(Math.abs(n)<Math.abs(o.pageY-e.pageY))return;i.preventDefault();if(n<0)return s.style.webkitTransform="translate3d(0,0,0)";if(n>f)return s.style.webkitTransform="translate3d("+f+"px,0,0)";s.style.webkitTransform="translate3d("+n+"px,0,0)";r.classList[n>u/2-a/2?"add":"remove"]("active")});window.addEventListener("touchend",function(e){if(!r)return;var i=r.querySelector(".toggle-handle"),s=r.offsetWidth,o=i.offsetWidth,u=s-o,a=!t&&!r.classList.contains("active")||t&&n>s/2-o/2;a?i.style.webkitTransform="translate3d("+u+"px,0,0)":i.style.webkitTransform="translate3d(0,0,0)";r.classList[a?"add":"remove"]("active");e=new CustomEvent("toggle",{detail:{isActive:a},bubbles:!0,cancelable:!0});r.dispatchEvent(e);t=!1;r=!1})}();